{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\n// @ is an alias to /src\nimport Header from '@/components/landing_page/Header.vue';\nimport Navbar from '@/components/landing_page/Navbar.vue';\nimport Footer from '@/components/landing_page/Footer.vue';\nexport default {\n  name: 'Login',\n  components: {\n    Header,\n    Navbar,\n    Footer\n  },\n  data() {\n    return {\n      items: [{\n        text: 'Beranda',\n        href: '/'\n      }, {\n        text: 'Login',\n        active: true\n      }],\n      input: {\n        username: \"\",\n        password: \"\"\n      }\n    };\n  },\n  methods: {\n    login() {\n      if (this.input.username != '' && this.input.password != '') {\n        axios.post('https://bimbel-militaryinforces.com/api/auth/login', {\n          username: this.input.username,\n          password: this.input.password\n        }, {\n          headers: {\n            \"Content-type\": \"text/plain\"\n          }\n        }).then(response => {\n          console.log(response.data.data['role_id']);\n          const status = response.data.status;\n          const message = response.data.message;\n          const role_id = response.data.data['role_id'];\n          const nama = response.data.data['nama'];\n          const id = response.data.data['id'];\n          alert(message);\n          if (status == 1) {\n            this.$session.start();\n            this.$session.set(\"username\", this.input.username);\n            this.$session.set(\"role_id\", role_id);\n            this.$session.set(\"nama\", nama);\n            this.$session.set(\"id\", id);\n            if (role_id == 2) {\n              this.$router.push({\n                path: '/member'\n              }).then(() => {\n                this.$router.go();\n              });\n            } else {\n              this.$router.push({\n                path: '/admin'\n              }).then(() => {\n                this.$router.go();\n              });\n            }\n          }\n        }).catch(error => console.log(error));\n      } else {\n        alert('Data Tidak Lengkap');\n      }\n      //make sure username OR password are not empty\n      // if(this.input.username != \"\" || this.input.password != \"\"){\n      //   console.log(\"authenticated\")\n      //   this.$session.start()\n      //         this.$session.set(\"username\", this.input.username)\n      //         console.log(this.$session.get(\"username\")); \n      //         this.$router\n      //           .push({ path: '/member' })\n      //           .then(() => { this.$router.go() })\n      //       //   Vue.http.headers.common['Authorization'] = 'Bearer ' + this.input.username\n      //       //   this.$router.push('/panel/search')\n      // }else{\n      //   console.log(\"Username and Password can not be empty\")\n      // }\n    }\n  }\n};","map":{"version":3,"names":["axios","Header","Navbar","Footer","name","components","data","items","text","href","active","input","username","password","methods","login","post","headers","then","response","console","log","status","message","role_id","nama","id","alert","$session","start","set","$router","push","path","go","catch","error"],"sources":["src/views/landing_page/Login.vue"],"sourcesContent":["<template>\r\n<div class=\"Login\">\r\n    <Header />\r\n    <Navbar />\r\n\r\n    <section class=\"head-breadcrumb\">\r\n      <div class=\"container\">\r\n        <div class=\"row\">\r\n          <div class=\"col-xl-12 col-lg-12 col-md-12 col-sm-12\">\r\n            <b-breadcrumb :items=\"items\"></b-breadcrumb>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n    <section class=\"body-skedinasan\">\r\n      <div class=\"container\">\r\n        <div class=\"row\">\r\n          <div class=\"col-xl-12 col-lg-12 col-md-12 col-sm-12\">\r\n            <h1>Login</h1>\r\n            <form name=\"login-form\">\r\n                <div class=\"mb-3\">\r\n                    <label for=\"username\">Email/Username </label>\r\n                    <input type=\"text\" id=\"username\" class=\"form-control\" v-model=\"input.username\" />\r\n                </div>\r\n                <div class=\"mb-3\">\r\n                    <label for=\"password\">Password </label>\r\n                    <input type=\"password\" id=\"password\" class=\"form-control\" v-model=\"input.password\" />\r\n                </div>\r\n                <button class=\"btn-daftar\" type=\"submit\" v-on:click.prevent = \"login()\">\r\n                    Login\r\n                </button>\r\n\r\n                <!-- <p>Username is: {{input.username}}</p>\r\n                <p>Password is: {{input.password}}</p> -->\r\n            </form>\r\n          </div>\r\n          \r\n        </div>\r\n      </div>\r\n    </section>\r\n\r\n    <Footer />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n// @ is an alias to /src\r\nimport Header from '@/components/landing_page/Header.vue'\r\nimport Navbar from '@/components/landing_page/Navbar.vue'\r\nimport Footer from '@/components/landing_page/Footer.vue'\r\n\r\nexport default {\r\n  name: 'Login',\r\n  components: {\r\n    Header,\r\n    Navbar,\r\n    Footer\r\n  },\r\n  data() {\r\n    return {\r\n      items: [\r\n        {\r\n          text: 'Beranda',\r\n          href: '/'\r\n        },\r\n        {\r\n          text: 'Login',\r\n          active: true\r\n        }\r\n      ],\r\n      input:{\r\n        username: \"\",\r\n        password: \"\"\r\n      }\r\n    }\r\n  },\r\n  methods:{\r\n    login(){\r\n      if (this.input.username != '' && this.input.password != '') {\r\n            axios.post('https://bimbel-militaryinforces.com/api/auth/login', {\r\n                  username : this.input.username,\r\n                  password : this.input.password,\r\n                }, {\r\n              headers: {\r\n                \"Content-type\": \"text/plain\",\r\n                },\r\n            })\r\n          .then( \r\n            (response) => {\r\n                console.log(response.data.data['role_id'])\r\n                const status = response.data.status\r\n                const message = response.data.message\r\n                const role_id = response.data.data['role_id']\r\n                const nama = response.data.data['nama']\r\n                const id = response.data.data['id']\r\n    \r\n                alert(message)\r\n    \r\n                if (status == 1) {\r\n                    this.$session.start()\r\n                    this.$session.set(\"username\", this.input.username)\r\n                    this.$session.set(\"role_id\", role_id)\r\n                    this.$session.set(\"nama\", nama)\r\n                    this.$session.set(\"id\", id)\r\n\r\n                    if (role_id == 2){\r\n                      this.$router\r\n                      .push({ path: '/member' })\r\n                      .then(() => { this.$router.go() })\r\n                    } else {\r\n                      this.$router\r\n                      .push({ path: '/admin' })\r\n                      .then(() => { this.$router.go() })\r\n                    }\r\n                    \r\n                    \r\n                } \r\n            }\r\n          )\r\n          .catch((error) => console.log(error));\r\n        } else {\r\n            alert('Data Tidak Lengkap')\r\n        }\r\n      //make sure username OR password are not empty\r\n      // if(this.input.username != \"\" || this.input.password != \"\"){\r\n      //   console.log(\"authenticated\")\r\n      //   this.$session.start()\r\n      //         this.$session.set(\"username\", this.input.username)\r\n      //         console.log(this.$session.get(\"username\")); \r\n      //         this.$router\r\n      //           .push({ path: '/member' })\r\n      //           .then(() => { this.$router.go() })\r\n      //       //   Vue.http.headers.common['Authorization'] = 'Bearer ' + this.input.username\r\n      //       //   this.$router.push('/panel/search')\r\n      // }else{\r\n      //   console.log(\"Username and Password can not be empty\")\r\n      // }\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"mappings":";AA8CA,OAAAA,KAAA;AACA;AACA,OAAAC,MAAA;AACA,OAAAC,MAAA;AACA,OAAAC,MAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IACAJ,MAAA;IACAC,MAAA;IACAC;EACA;EACAG,KAAA;IACA;MACAC,KAAA,GACA;QACAC,IAAA;QACAC,IAAA;MACA,GACA;QACAD,IAAA;QACAE,MAAA;MACA,EACA;MACAC,KAAA;QACAC,QAAA;QACAC,QAAA;MACA;IACA;EACA;EACAC,OAAA;IACAC,MAAA;MACA,SAAAJ,KAAA,CAAAC,QAAA,eAAAD,KAAA,CAAAE,QAAA;QACAb,KAAA,CAAAgB,IAAA;UACAJ,QAAA,OAAAD,KAAA,CAAAC,QAAA;UACAC,QAAA,OAAAF,KAAA,CAAAE;QACA;UACAI,OAAA;YACA;UACA;QACA,GACAC,IAAA,CACAC,QAAA;UACAC,OAAA,CAAAC,GAAA,CAAAF,QAAA,CAAAb,IAAA,CAAAA,IAAA;UACA,MAAAgB,MAAA,GAAAH,QAAA,CAAAb,IAAA,CAAAgB,MAAA;UACA,MAAAC,OAAA,GAAAJ,QAAA,CAAAb,IAAA,CAAAiB,OAAA;UACA,MAAAC,OAAA,GAAAL,QAAA,CAAAb,IAAA,CAAAA,IAAA;UACA,MAAAmB,IAAA,GAAAN,QAAA,CAAAb,IAAA,CAAAA,IAAA;UACA,MAAAoB,EAAA,GAAAP,QAAA,CAAAb,IAAA,CAAAA,IAAA;UAEAqB,KAAA,CAAAJ,OAAA;UAEA,IAAAD,MAAA;YACA,KAAAM,QAAA,CAAAC,KAAA;YACA,KAAAD,QAAA,CAAAE,GAAA,kBAAAnB,KAAA,CAAAC,QAAA;YACA,KAAAgB,QAAA,CAAAE,GAAA,YAAAN,OAAA;YACA,KAAAI,QAAA,CAAAE,GAAA,SAAAL,IAAA;YACA,KAAAG,QAAA,CAAAE,GAAA,OAAAJ,EAAA;YAEA,IAAAF,OAAA;cACA,KAAAO,OAAA,CACAC,IAAA;gBAAAC,IAAA;cAAA,GACAf,IAAA;gBAAA,KAAAa,OAAA,CAAAG,EAAA;cAAA;YACA;cACA,KAAAH,OAAA,CACAC,IAAA;gBAAAC,IAAA;cAAA,GACAf,IAAA;gBAAA,KAAAa,OAAA,CAAAG,EAAA;cAAA;YACA;UAGA;QACA,CACA,EACAC,KAAA,CAAAC,KAAA,IAAAhB,OAAA,CAAAC,GAAA,CAAAe,KAAA;MACA;QACAT,KAAA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}